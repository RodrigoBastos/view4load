var app=angular.module("View4Load",[]),internDefault={general:"position: relative;display: inline-block;visibility: visible;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2)",color:"background-color: #f9edbe;border: 1px solid #f0c36d",size:"font-size: 80%",label:"Loading..."},externDefault={general:"margin: 0;visibility: hidden;z-index: 1050;width: 100%;height: 100%",position:"left: 0;top: 0;position: absolute;text-align: center",font:"font-family: arial, sans-serif;font-weight: bold"},templates={template1:{intern:internDefault,extern:externDefault},template2:{intern:{general:"position: relative;display: inline-block;visibility: visible;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2)",color:"background-color: #f9edbe;border: 1px solid #f0c36d",font:"font-family: arial, sans-serif;font-weight: bold",size:"font-size: 80%",label:"Loading..."},extern:{general:"margin: 0;visibility: hidden;z-index: 1050;width: 100%;height: 100%",position:"left: 0;top: 0;position: absolute;text-align: center"}}},colors={"default":"background-color: #f9edbe;border: 1px solid #f0c36d;",primary:"background-color: #62a4ff;border: 1px solid #78e5f0;",second:"background-color: #ffe8fe;border: 1px solid #dad6db;",dark:"background-color: #000; border: 1px solid #ccc; color: #fff;"},positions={right:"text-align: right",center:"text-align: center",left:"text-align: left",middle:"top: 50%; left: 50%"},sizes={lg:"padding: 20px 50px; font-size:25px;"},fonts={},defaultValues={color:"default",position:"center",label:"LOADING.."};app.directive("load",function($http){return{restrict:"A",template:function(element,attrs){var activeTemplate=attrs.template?templates[attrs.template]:templates.template1,color=attrs.templateColor?colors[attrs.templateColor]:activeTemplate.intern.color,size=attrs.templateSize?sizes[attrs.templateSize]:activeTemplate.intern.size,label=attrs.templateLabel?attrs.templateLabel:activeTemplate.intern.label,intern=activeTemplate.intern.general,position=attrs.templatePosition?positions[attrs.templatePosition]:activeTemplate.extern.position,font=attrs.templateFont?fonts[attrs.templateFont]:activeTemplate.extern.font,extern=activeTemplate.extern.general;return'<div ng-if="isShow" style="'+extern+";"+position+'"><div style="'+font+";"+intern+";"+color+";"+size+'">'+label+"</div></div>"},link:function(scope,element,attrs){console.log("attrs",attrs.view),scope.$watch(function(){return $http.pendingRequests.length>0},function(hasPending){scope.isShow=!!hasPending})}}});