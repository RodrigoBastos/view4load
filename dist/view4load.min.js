var app=angular.module("View4Load",[]),colors={"default":"background-color: #f9edbe;border: 1px solid #f0c36d;",primary:"background-color: #62a4ff;border: 1px solid #78e5f0;",second:"background-color: #ffe8fe;border: 1px solid #dad6db;",test:"background-color: #000;border: 1px solid #dad6db;"},positions={right:"text-align: right",center:"text-align: center",left:"text-align: left"},defaultValues={color:"default",position:"center",label:"LOADING.."};app.directive("load",function($http){return{restrict:"A",template:function(element,attrs){var color=attrs.template?colors[attrs.template]:colors[defaultValues.color],position=attrs.templatePosition?positions[attrs.templatePosition]:positions[defaultValues.position],label=attrs.templateLabel?attrs.templateLabel:defaultValues.label;return'<div ng-if="isShow" style="left: 0;top: 0;margin: 0;font-family: arial, sans-serif;font-weight: bold;visibility: hidden;z-index: 1050;position: absolute;'+position+';width: 100%;height: 100%;"><div style="position: relative;display: inline-block;visibility: visible;font-size: 80%;padding: 6px 10px;'+color+'box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);">'+label+"</div></div>"},link:function(scope,element,attrs){console.log("attrs",attrs.view),scope.$watch(function(){return $http.pendingRequests.length>0},function(hasPending){scope.isShow=!!hasPending})}}});